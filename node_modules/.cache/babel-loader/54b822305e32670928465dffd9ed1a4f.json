{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\IdeaPad520\\\\todo2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\IdeaPad520\\\\todo2\\\\src\\\\components\\\\app\\\\app.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport AppHeader from '../app-header/';\nimport ToDoList from '../todo-list/';\nimport SearchPanel from '../search-panel/';\nimport ItemStatusFilter from '../item-status-filter/';\nimport AddComponent from '../add-component';\nimport './app.css';\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.maxId = 100;\n    this.state = {\n      todoData: [this.createTododItem('Make awesome app'), this.createTododItem('Kiss Mila!!!'), this.createTododItem('Have a lunch')],\n      term: \"\"\n    };\n\n    this.deleteItem = id => {\n      this.setState(({\n        todoData\n      }) => {\n        const idx = todoData.findIndex(el => el.id === id);\n        const newArray = [...todoData.slice(0, idx), ...todoData.slice(idx + 1)];\n        return {\n          todoData: newArray\n        };\n      });\n    };\n\n    this.onItemAdded = text => {\n      const newItem = this.createTododItem(text);\n      this.setState(({\n        todoData\n      }) => {\n        const newArr = [...todoData, newItem];\n        return {\n          todoData: newArr\n        };\n      });\n    };\n\n    this.onToggleImportant = id => {\n      this.setState(({\n        todoData\n      }) => {\n        return {\n          todoData: this.toggleProperty(todoData, id, 'important')\n        };\n      });\n    };\n\n    this.onToggleDone = id => {\n      this.setState(({\n        todoData\n      }) => {\n        return {\n          todoData: this.toggleProperty(todoData, id, 'done')\n        };\n      });\n    };\n\n    this.onSearchChange = term => {\n      this.setState({\n        term\n      });\n    };\n  }\n\n  createTododItem(label) {\n    return {\n      label,\n      important: false,\n      done: false,\n      id: this.maxId++\n    };\n  }\n\n  toggleProperty(arr, id, propName) {\n    const idx = arr.findIndex(el => el.id === id); //1) обновляем объект\n\n    const oldItem = arr[idx];\n\n    const newItem = _objectSpread({}, oldItem, {\n      [propName]: !oldItem[propName]\n    }); //2) создаем новый объект\n\n\n    return [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)];\n  }\n\n  /////mistake below\n  search(items, term) {\n    if (term.length === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.label.toLowerCase().indexOf(term.toLowerCase()) > -1;\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          todoData = _this$state.todoData,\n          term = _this$state.term;\n    const visibleItems = this.search(todoData, term);\n    const doneCount = todoData.filter(el => el.done).length;\n    const todoCount = todoData.length - doneCount;\n    return React.createElement(\"div\", {\n      className: \"todo-app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(AppHeader, {\n      todo: todoCount,\n      done: doneCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"top-panel d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(SearchPanel, {\n      onSearchChange: this.onSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(ItemStatusFilter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(ToDoList, {\n      todos: visibleItems,\n      onDeleted: this.deleteItem,\n      onToggleImportant: this.onToggleImportant,\n      onToggleDone: this.onToggleDone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(AddComponent, {\n      onItemAdded: this.onItemAdded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })); // сдесь мы указываем источник для свойства todos\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\IdeaPad520\\todo2\\src\\components\\app\\app.js"],"names":["React","Component","AppHeader","ToDoList","SearchPanel","ItemStatusFilter","AddComponent","App","maxId","state","todoData","createTododItem","term","deleteItem","id","setState","idx","findIndex","el","newArray","slice","onItemAdded","text","newItem","newArr","onToggleImportant","toggleProperty","onToggleDone","onSearchChange","label","important","done","arr","propName","oldItem","search","items","length","filter","item","toLowerCase","indexOf","render","visibleItems","doneCount","todoCount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AppHeader from '../app-header/'\r\nimport ToDoList from '../todo-list/'\r\nimport SearchPanel from '../search-panel/'\r\nimport ItemStatusFilter from '../item-status-filter/'\r\nimport AddComponent from '../add-component'\r\nimport './app.css';\r\nexport default class App extends Component {\r\n    maxId = 100;\r\n    state = {\r\n        todoData: [\r\n            this.createTododItem('Make awesome app'),\r\n            this.createTododItem('Kiss Mila!!!'),\r\n            this.createTododItem('Have a lunch')\r\n        ],\r\n        term: \"\"\r\n    };\r\n    createTododItem(label) {\r\n        return {\r\n            label,\r\n            important: false,\r\n            done: false,\r\n            id: this.maxId++\r\n        }\r\n    }\r\n\r\n    deleteItem = (id) => {\r\n        this.setState(({ todoData }) => {\r\n            const idx = todoData.findIndex((el) => el.id === id);\r\n            const newArray = [...todoData.slice(0, idx),\r\n            ...todoData.slice(idx + 1)\r\n            ];\r\n            return {\r\n                todoData: newArray\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    onItemAdded = (text) => {\r\n        const newItem = this.createTododItem(text);\r\n        this.setState(({ todoData }) => {\r\n            const newArr = [\r\n                ...todoData,\r\n                newItem\r\n            ]\r\n            return {\r\n                todoData: newArr\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n    toggleProperty(arr, id, propName) {\r\n        const idx = arr.findIndex((el) => el.id === id);\r\n        //1) обновляем объект\r\n        const oldItem = arr[idx];\r\n        const newItem = { ...oldItem, [propName]: !oldItem[propName] };\r\n        //2) создаем новый объект\r\n        return [\r\n            ...arr.slice(0, idx),\r\n            newItem,\r\n            ...arr.slice(idx + 1)\r\n        ]\r\n    }\r\n    onToggleImportant = (id) => {\r\n        this.setState(({ todoData }) => {\r\n            return {\r\n                todoData: this.toggleProperty(todoData, id, 'important')\r\n            }\r\n\r\n        })\r\n    };\r\n\r\n    onToggleDone = (id) => {\r\n        this.setState(({ todoData }) => {\r\n            return {\r\n                todoData: this.toggleProperty(todoData, id, 'done')\r\n            }\r\n\r\n        })\r\n    };\r\n    onSearchChange=(term)=>{\r\n        this.setState ({ term})\r\n    }\r\n\r\n/////mistake below\r\nsearch(items, term) {\r\n    if (term.length===0){\r\n        return items;\r\n    }\r\n    return items.filter((item) => {\r\n        return item.label.toLowerCase().indexOf(term.toLowerCase())> -1;\r\n     })\r\n}\r\n\r\n   \r\n\r\n    render() {\r\n\r\n        const { todoData, term } = this.state;\r\n\r\n        const visibleItems = this.search(todoData, term);\r\n\r\n        const doneCount = todoData.filter((el) => el.done).length;\r\n        const todoCount = todoData.length - doneCount;\r\n        return (<div className='todo-app' >\r\n\r\n            <AppHeader todo={todoCount} done={doneCount} />\r\n            <div className='top-panel d-flex'>\r\n                <SearchPanel \r\n                onSearchChange ={this.onSearchChange}/>\r\n                <ItemStatusFilter />\r\n            </div>\r\n            <ToDoList\r\n                todos={visibleItems}\r\n                onDeleted={this.deleteItem}\r\n                onToggleImportant={this.onToggleImportant}\r\n                onToggleDone={this.onToggleDone} />\r\n            <AddComponent onItemAdded={this.onItemAdded} />\r\n\r\n        </div>)// сдесь мы указываем источник для свойства todos\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}